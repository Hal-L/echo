<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itheima.dao.UserDao">


<!-- 查询所有用户映射Map -->
    <!-- select 指定的是关联对象的statement -->
    <!-- id指的是，调用对应statement的时候传递的参数，
          该参数来源是当前结果集的某一列（真正查的时候是某个字段）
     -->


<resultMap id="userWithOrdersLazy" type="com.itheima.domain.User">
    <id column="id" property="id"></id>
    <id column="username" property="username"></id>
    <id column="password" property="password"></id>
    <id column="birthday" property="birthday"></id>
    <!-- 配置User对象中OrderList结合的映射Map -->
    <collection property="orderList"
                ofType="com.itheima.domain.Order"
                select="com.itheima.dao.OrderDao.findOrderByUserId"
                column="id">
    </collection>
</resultMap>


    <!-- 需求5：查询所有用户，并在使用到用户订单信息的时候查询订单。 -->
    <select id="findAllUserLazyOrders" resultMap="userWithOrdersLazy">
        SELECT * FROM user
    </select>



</mapper>